<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>bird flock speeds — benson perry</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Times New Roman", Times, Georgia, serif;
      background: #f8f7f4;
      color: #000;
      min-height: 100vh;
      padding: 40px 30px;
      text-transform: lowercase;
    }
    h1 { font-size: 1.5rem; font-weight: 400; letter-spacing: -0.02em; margin-bottom: 8px; }
    h1 a { color: inherit; text-decoration: none; border-bottom: 1px solid #ccc; }
    h1 a:hover { border-bottom-color: #000; }
    .subtitle { font-size: 0.75rem; color: #999; margin-bottom: 40px; }
    .variation { margin-bottom: 48px; }
    .label { font-size: 0.75rem; font-weight: 400; color: #999; letter-spacing: 0.03em; margin-bottom: 8px; }
    pre.anim {
      font-family: "Courier New", Courier, monospace;
      font-size: 10px;
      line-height: 1.2;
      color: #b0b0a8;
      padding: 0;
      white-space: pre;
      overflow: hidden;
      user-select: none;
      margin-left: -30px;
      margin-right: -30px;
    }
    @media (max-width: 600px) {
      body { padding: 20px 15px; }
      pre.anim { margin-left: -15px; margin-right: -15px; }
    }
  </style>
</head>
<body>
  <h1><a href="/">benson perry</a></h1>
  <div class="subtitle">wide two-row flock — speed variations</div>

  <div class="variation"><div class="label">1 — crawl (0.06)</div><pre class="anim" id="v1"></pre></div>
  <div class="variation"><div class="label">2 — slow (0.10)</div><pre class="anim" id="v2"></pre></div>
  <div class="variation"><div class="label">3 — current (0.15)</div><pre class="anim" id="v3"></pre></div>
  <div class="variation"><div class="label">4 — moderate (0.22)</div><pre class="anim" id="v4"></pre></div>
  <div class="variation"><div class="label">5 — brisk (0.30)</div><pre class="anim" id="v5"></pre></div>
  <div class="variation"><div class="label">6 — fast (0.40)</div><pre class="anim" id="v6"></pre></div>

  <script>
    const H = 7;
    let W = Math.floor(window.innerWidth / 6.02);
    window.addEventListener('resize', () => { W = Math.floor(window.innerWidth / 6.02); });

    function put(g, c, x, y, ch, col) {
      if (x >= 0 && x < W && y >= 0 && y < H) { g[y][x] = ch; c[y][x] = col; }
    }

    const anims = [];
    function reg(id, baseSpeed) {
      const birds = [];
      for (let i = 0; i < 7; i++) {
        birds.push({
          x: i * 22 + (Math.random() - 0.5) * 8,
          y: 1 + Math.random() * (H - 3),
          vx: baseSpeed + (Math.random() - 0.5) * baseSpeed * 0.4,
          vy: (Math.random() - 0.5) * 0.04,
          flapOff: Math.random() * Math.PI * 2,
        });
      }
      anims.push({ el: document.getElementById(id), birds, t: 0 });
    }

    function drawBird(g, c, x, y, p) {
      const col = '#605040';
      const colM = '#605040';
      const colT = '#807060';
      if (p > 0.4) {
        put(g, c, x - 3, y - 1, '\\', colT);
        put(g, c, x + 3, y - 1, '/', colT);
        put(g, c, x - 2, y, '\\', colM);
        put(g, c, x - 1, y, '\\', col);
        put(g, c, x, y, 'w', col);
        put(g, c, x + 1, y, '/', col);
        put(g, c, x + 2, y, '/', colM);
      } else if (p < -0.4) {
        put(g, c, x - 3, y + 1, '/', colT);
        put(g, c, x + 3, y + 1, '\\', colT);
        put(g, c, x - 2, y, '/', colM);
        put(g, c, x - 1, y, '/', col);
        put(g, c, x, y, 'w', col);
        put(g, c, x + 1, y, '\\', col);
        put(g, c, x + 2, y, '\\', colM);
      } else {
        put(g, c, x - 3, y, '-', colT);
        put(g, c, x - 2, y, '-', colM);
        put(g, c, x - 1, y, '-', col);
        put(g, c, x, y, 'w', col);
        put(g, c, x + 1, y, '-', col);
        put(g, c, x + 2, y, '-', colM);
        put(g, c, x + 3, y, '-', colT);
      }
    }

    function renderAnim(a) {
      const g = Array.from({length: H}, () => new Array(W).fill('\u00B7'));
      const c = Array.from({length: H}, () => new Array(W).fill(''));
      for (let i = 0; i < a.birds.length; i++) {
        const b = a.birds[i];
        b.vy += Math.sin(a.t * 0.3 + i * 2.1) * 0.002;
        if (b.y < 1) b.vy += 0.01;
        if (b.y > H - 2) b.vy -= 0.01;
        b.x += b.vx;
        b.y += b.vy;
        b.vy *= 0.98;
        if (b.x > W + 5) b.x -= W + 15;
        if (b.x < -10) b.x += W + 15;
        drawBird(g, c, Math.round(b.x), Math.round(b.y), Math.sin(a.t * 2.5 + b.flapOff));
      }
      let html = '';
      for (let y = 0; y < H; y++) {
        for (let x = 0; x < W; x++) {
          html += c[y][x] ? '<span style="color:' + c[y][x] + '">' + g[y][x] + '</span>' : g[y][x];
        }
        if (y < H - 1) html += '\n';
      }
      a.el.innerHTML = html;
    }

    reg('v1', 0.06);
    reg('v2', 0.10);
    reg('v3', 0.15);
    reg('v4', 0.22);
    reg('v5', 0.30);
    reg('v6', 0.40);

    for (const a of anims) { a.t = 0.03; renderAnim(a); }
    let last = 0;
    requestAnimationFrame(function loop(ts) {
      if (ts - last > 50) {
        last = ts;
        for (const a of anims) { a.t += 0.03; renderAnim(a); }
      }
      requestAnimationFrame(loop);
    });
  </script>
</body>
</html>
